/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2025-01-06 08:48:28 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import com.user.entities.User;
import com.user.entities.Category;
import com.user.entities.Product;
import java.util.List;
import com.user.DAO.UserDao;
import com.user.DAO.CategoryDao;
import com.user.DAO.ProductDao;
import com.user.helper.FactoryProvider;

public final class Admin_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(2);
    _jspx_dependants.put("/Component/common_css_js.jsp", Long.valueOf(1735386756497L));
    _jspx_dependants.put("/Component/message.jsp", Long.valueOf(1735386756563L));
  }

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");

    User user = (User) session.getAttribute("user");
    if (user == null) {
        session.setAttribute("message", "Login first");
        response.sendRedirect("Login.jsp");
        return;
    } else if ("normal".equals(user.getUserType())) {
        session.setAttribute("message", "You are not admin of this website");
        response.sendRedirect("Login.jsp");
        return;
    }
 
    // Fetch users, categories, and products from the database
    List<User> users = new UserDao(FactoryProvider.getfactory()).getAllUsers();
    List<Category> categories = new CategoryDao(FactoryProvider.getfactory()).getAllCategories();
    List<Product> products = new ProductDao(FactoryProvider.getfactory()).getAllProducts();
    
    
    
    

    // Example of how to retrieve counts; ensure these DAO methods exist
    
        

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html lang=\"en\">\r\n");
      out.write("    <head>\r\n");
      out.write("        <meta charset=\"UTF-8\">\r\n");
      out.write("        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n");
      out.write("        <title>Admin Panel</title>\r\n");
      out.write("        ");
      out.write("\n");
      out.write("\n");
      out.write("<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\">\n");
      out.write("<link rel=\"stylesheet\" href=\"CSS/Style.css\">\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<script src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\" integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\" crossorigin=\"anonymous\"></script>\n");
      out.write("<script src=\"https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js\" integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\" crossorigin=\"anonymous\"></script>\n");
      out.write("<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"></script>\n");
      out.write("<script src=\"JS/Script.js\"></script>");
      out.write("\r\n");
      out.write("        ");
      out.write('\n');
      out.write('\n');

    String message = (String)session.getAttribute("message");
    if (message !=null){
    

      out.write("  \n");
      out.write("    \n");
      out.write(" <div class=\"success\" role=\"alert\">\n");
      out.write("     <strong>");
      out.print( message);
      out.write("</strong>\n");
      out.write("  <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n");
      out.write("    <span aria-hidden=\"true\">&times;</span>\n");
      out.write("  </button>\n");
      out.write("</div>   \n");
      out.write("    \n");
      out.write("    \n");
      out.write("    \n");
      out.write("    \n");
      out.write("    \n");
      out.write("    \n");

    
    session.removeAttribute("message");
    
    }


      out.write("\r\n");
      out.write("        <link rel=\"stylesheet\" href=\"style.css\">\r\n");
      out.write("        <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>\r\n");
      out.write("        <style>\r\n");
      out.write("            /* Custom styles for the admin panel */\r\n");
      out.write("            body {\r\n");
      out.write("                font-family: 'Arial', sans-serif;\r\n");
      out.write("                background-color: #f4f4f4; /* Light background for better contrast */\r\n");
      out.write("                color: #333;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .sidebar {\r\n");
      out.write("                width: 250px;\r\n");
      out.write("                height: 100%;\r\n");
      out.write("                background: #2d2d2d;\r\n");
      out.write("                position: fixed;\r\n");
      out.write("                transition: all 0.5s ease;\r\n");
      out.write("                box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .sidebar .logo-details {\r\n");
      out.write("                height: 60px;\r\n");
      out.write("                display: flex;\r\n");
      out.write("                align-items: center;\r\n");
      out.write("                padding: 0 20px;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .sidebar .logo-details i {\r\n");
      out.write("                font-size: 28px;\r\n");
      out.write("                color: #fff;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .sidebar .nav-links {\r\n");
      out.write("                margin-top: 20px;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .sidebar .nav-links li {\r\n");
      out.write("                position: relative;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .sidebar .nav-links li a {\r\n");
      out.write("                display: flex;\r\n");
      out.write("                align-items: center;\r\n");
      out.write("                text-decoration: none;\r\n");
      out.write("                padding: 10px 20px;\r\n");
      out.write("                color: #fff;\r\n");
      out.write("                transition: background 0.3s, padding-left 0.3s;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .sidebar .nav-links li a:hover {\r\n");
      out.write("                background: #1f1f1f;\r\n");
      out.write("                padding-left: 30px; /* Slightly indent on hover */\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .home-section {\r\n");
      out.write("                margin-left: 250px;\r\n");
      out.write("                padding: 20px;\r\n");
      out.write("                transition: margin-left 0.5s;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .table {\r\n");
      out.write("                width: 100%;\r\n");
      out.write("                border-collapse: collapse;\r\n");
      out.write("                margin-top: 20px;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .table th, .table td {\r\n");
      out.write("                border: 1px solid #ddd;\r\n");
      out.write("                padding: 12px;\r\n");
      out.write("                text-align: left;\r\n");
      out.write("                transition: background-color 0.3s;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .table th {\r\n");
      out.write("                background-color: #007bff;\r\n");
      out.write("                color: white;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .table tr:hover {\r\n");
      out.write("                background-color: #f1f1f1; /* Highlight row on hover */\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .modal-header {\r\n");
      out.write("                background-color: #007bff; /* Modal header background */\r\n");
      out.write("                color: white;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .modal-body {\r\n");
      out.write("                padding: 20px;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .btn-primary {\r\n");
      out.write("                background-color: #007bff;\r\n");
      out.write("                border-color: #007bff;\r\n");
      out.write("                transition: background-color 0.3s, transform 0.3s;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .btn-primary:hover {\r\n");
      out.write("                background-color: #0056b3; /* Darker shade on hover */\r\n");
      out.write("                transform: scale(1.05); /* Slightly grow button on hover */\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            /* Bold for labels */\r\n");
      out.write("            label {\r\n");
      out.write("                font-weight: bold; /* Make labels bold */\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            /* Responsive Adjustments */\r\n");
      out.write("            @media (max-width: 768px) {\r\n");
      out.write("                .sidebar {\r\n");
      out.write("                    width: 80px; /* Collapsed sidebar */\r\n");
      out.write("                }\r\n");
      out.write("                .sidebar .nav-links li a {\r\n");
      out.write("                    padding: 10px 15px;\r\n");
      out.write("                }\r\n");
      out.write("                .home-section {\r\n");
      out.write("                    margin-left: 80px; /* Adjust content margin */\r\n");
      out.write("                }\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .welcome-message {\r\n");
      out.write("                display: none; /* Initially hidden */\r\n");
      out.write("                color: #007bff; /* Message color */\r\n");
      out.write("                font-size: 1.5em; /* Larger font size */\r\n");
      out.write("                margin-bottom: 20px; /* Space below the message */\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .logout-button {\r\n");
      out.write("                position: absolute;\r\n");
      out.write("                bottom: 20px; /* Position at the bottom */\r\n");
      out.write("                left: 20px; /* Position from left */\r\n");
      out.write("                width: calc(100% - 40px); /* Full width minus padding */\r\n");
      out.write("                background-color: 608BC1; /* Bootstrap danger color */\r\n");
      out.write("                color: black; /* Text color */\r\n");
      out.write("                border: none; /* No border */\r\n");
      out.write("                padding: 10px; /* Padding */\r\n");
      out.write("                text-align: center; /* Center text */\r\n");
      out.write("                cursor: pointer; /* Pointer cursor */\r\n");
      out.write("                transition: background-color 0.3s; /* Transition for hover effect */\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .logout-button:hover {\r\n");
      out.write("                background-color: #c82333; /* Darker shade on hover */\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .profile-details {\r\n");
      out.write("                position: absolute;\r\n");
      out.write("                top: 10px; /* Position from top */\r\n");
      out.write("                right: 20px; /* Position from right */\r\n");
      out.write("                color: black; /* Text color */\r\n");
      out.write("            }\r\n");
      out.write("        </style>\r\n");
      out.write("    </head>\r\n");
      out.write("    <body>\r\n");
      out.write("\r\n");
      out.write("        <div class=\"sidebar\">\r\n");
      out.write("            <div class=\"logo-details\">\r\n");
      out.write("                <i class='bx bxl-c-plus-plus'></i>\r\n");
      out.write("                <span class=\"logo_name text-white\">Admin Panel</span>\r\n");
      out.write("            </div>\r\n");
      out.write("            <ul class=\"nav-links\">\r\n");
      out.write("\r\n");
      out.write("                <li><a href=\"Admin.jsp\" class=\"active\"><i class='bx bx-grid-alt'></i><span class=\"links_name\">Dashboard</span></a></li>\r\n");
      out.write("\r\n");
      out.write("                <li><a href=\"#\" id=\"userButton\"><i class='bx bx-user'></i><span class=\"links_name\">Users</span></a></li>\r\n");
      out.write("                <li><a href=\"#\" id=\"categoryButton\"><i class='bx bx-list-ul'></i><span class=\"links_name\">Categories</span></a></li>\r\n");
      out.write("                <li><a href=\"#\" id=\"productButton\"><i class='bx bx-box'></i><span class=\"links_name\">Products</span></a></li>\r\n");
      out.write("                <li><a href=\"#\" data-toggle=\"modal\" data-target=\"#addProductModal\"><i class='bx bx-plus'></i><span class=\"links_name\">Add Product</span></a></li>\r\n");
      out.write("                <li><a href=\"#\" data-toggle=\"modal\" data-target=\"#addCategoryModal\"><i class='bx bx-plus'></i><span class=\"links_name\">Add Category</span></a></li>\r\n");
      out.write("            </ul>\r\n");
      out.write("            <button class=\"logout-button\" onclick=\"window.location.href = 'index.jsp';\">Log out</button> <!-- Logout Button -->\r\n");
      out.write("        </div>\r\n");
      out.write("\r\n");
      out.write("        <section class=\"home-section\">\r\n");
      out.write("            <nav>\r\n");
      out.write("                <div class=\"sidebar-button\">\r\n");
      out.write("                    <i class='bx bx-menu sidebarBtn'></i>\r\n");
      out.write("                    <span class=\"dashboard text-center\">ICONIC STYLES</span>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"profile-details\">\r\n");
      out.write("                    <span class=\"admin_name\">");
      out.print( user.getName());
      out.write("</span> <!-- User's name -->\r\n");
      out.write("                    <i class='bx bx-chevron-down'></i>\r\n");
      out.write("                </div>\r\n");
      out.write("            </nav>\r\n");
      out.write("\r\n");
      out.write("            <div class=\"home-content\">\r\n");
      out.write("                <div class=\"welcome-message\" id=\"welcomeMessage\">\r\n");
      out.write("                    <h1>Welcome I47</h1>\r\n");
      out.write("                    \r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("                <div id=\"dashboardSection\" style=\"display: none;\">\r\n");
      out.write("                    <h1>Welcome I47</h1>\r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("                <div id=\"userManagementSection\" style=\"display: none;\">\r\n");
      out.write("                    <h2>User Management</h2>\r\n");
      out.write("                    <table class=\"table table-bordered text-center\">\r\n");
      out.write("                        <thead>\r\n");
      out.write("                            <tr>\r\n");
      out.write("                                <th>ID</th>\r\n");
      out.write("                                <th>Name</th>\r\n");
      out.write("                                <th>Email</th>\r\n");
      out.write("                                <th>User Type</th>\r\n");
      out.write("                            </tr>\r\n");
      out.write("                        </thead>\r\n");
      out.write("                        <tbody>\r\n");
      out.write("                            ");

                                for (User u : users) {
                            
      out.write("\r\n");
      out.write("                            <tr>\r\n");
      out.write("                                <td>");
      out.print( u.getUserId());
      out.write("</td>\r\n");
      out.write("                                <td>");
      out.print( u.getName());
      out.write("</td>\r\n");
      out.write("                                <td>");
      out.print( u.getUserEmail());
      out.write("</td>\r\n");
      out.write("                                <td>");
      out.print( u.getUserType());
      out.write("</td>\r\n");
      out.write("                            </tr>\r\n");
      out.write("                            ");

                                }
                            
      out.write("\r\n");
      out.write("                        </tbody>\r\n");
      out.write("                    </table>\r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("                <div id=\"categoryManagementSection\" style=\"display: none;\">\r\n");
      out.write("                    <h2>Category Management</h2>\r\n");
      out.write("                    <table class=\"table table-bordered\">\r\n");
      out.write("                        <thead>\r\n");
      out.write("                            <tr>\r\n");
      out.write("                                <th>ID</th>\r\n");
      out.write("                                <th>Title</th>\r\n");
      out.write("                                <th>Description</th>\r\n");
      out.write("                            </tr>\r\n");
      out.write("                        </thead>\r\n");
      out.write("                        <tbody>\r\n");
      out.write("                            ");

                                for (Category c : categories) {
                            
      out.write("\r\n");
      out.write("                            <tr>\r\n");
      out.write("                                <td>");
      out.print( c.getCategoryId());
      out.write("</td>\r\n");
      out.write("                                <td>");
      out.print( c.getCategoryTitle());
      out.write("</td>\r\n");
      out.write("                                <td>");
      out.print( c.getCategoryDescription());
      out.write("</td>\r\n");
      out.write("                            </tr>\r\n");
      out.write("                            ");

                                }
                            
      out.write("\r\n");
      out.write("                        </tbody>\r\n");
      out.write("                    </table>\r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("                <div id=\"productManagementSection\" style=\"display: none;\">\r\n");
      out.write("                    <h2>Product Management</h2>\r\n");
      out.write("                    <table class=\"table table-bordered\">\r\n");
      out.write("                        <thead>\r\n");
      out.write("                            <tr>\r\n");
      out.write("                                <th>ID</th>\r\n");
      out.write("                                <th>Name</th>\r\n");
      out.write("                                <th>Category</th>\r\n");
      out.write("                                <th>Price</th>\r\n");
      out.write("                                <th>Discount</th>\r\n");
      out.write("                                <th>Quantity</th>\r\n");
      out.write("                            </tr>\r\n");
      out.write("                        </thead>\r\n");
      out.write("                        <tbody>\r\n");
      out.write("                            ");

                                for (Product p : products) {
                            
      out.write("\r\n");
      out.write("                            <tr>\r\n");
      out.write("                                <td>");
      out.print( p.getPId());
      out.write("</td>\r\n");
      out.write("                                <td>");
      out.print( p.getpName());
      out.write("</td>\r\n");
      out.write("                                <td>");
      out.print( p.getCategory().getCategoryTitle());
      out.write("</td>\r\n");
      out.write("                                <td>");
      out.print( p.getpPrice());
      out.write("</td>\r\n");
      out.write("                                <td>");
      out.print( p.getpDiscount());
      out.write("</td>\r\n");
      out.write("                                <td>");
      out.print( p.getpQuantity());
      out.write("</td>\r\n");
      out.write("                            </tr>\r\n");
      out.write("                            ");

                                }
                            
      out.write("\r\n");
      out.write("                        </tbody>\r\n");
      out.write("                    </table>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </section>\r\n");
      out.write("\r\n");
      out.write("        <!-- Add Product Modal -->\r\n");
      out.write("        <div class=\"modal fade\" id=\"addProductModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("            <div class=\"modal-dialog\">\r\n");
      out.write("                <div class=\"modal-content\">\r\n");
      out.write("                    <div class=\"modal-header\">\r\n");
      out.write("                        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Add Product</h5>\r\n");
      out.write("                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"modal-body\">\r\n");
      out.write("                        <form action=\"/mavenproject7/productServlet\" method=\"post\" enctype=\"multipart/form-data\">\r\n");
      out.write("                            <input type=\"hidden\" name=\"Open\" value=\"Add Product\">\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productName\" class=\"form-label\">Product Name</label>\r\n");
      out.write("                                <input type=\"text\" class=\"form-control\" id=\"productName\" name=\"productName\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productDescription\" class=\"form-label\">Product Description</label>\r\n");
      out.write("                                <textarea class=\"form-control\" id=\"productDescription\" name=\"productDescription\" rows=\"3\" required></textarea>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productPrice\" class=\"form-label\">Price</label>\r\n");
      out.write("                                <input type=\"number\" class=\"form-control\" id=\"productPrice\" name=\"productPrice\" step=\"0.01\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productDiscount\" class=\"form-label\">Discount (%)</label>\r\n");
      out.write("                                <input type=\"number\" class=\"form-control\" id=\"productDiscount\" name=\"productDiscount\" min=\"0\" max=\"100\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productQuantity\" class=\"form-label\">Quantity</label>\r\n");
      out.write("                                <input type=\"number\" class=\"form-control\" id=\"productQuantity\" name=\"productQuantity\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productImage\" class=\"form-label\">Product Image</label>\r\n");
      out.write("                                <input type=\"file\" class=\"form-control\" id=\"productImage\" name=\"productImage\" accept=\"image/*\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productCategory\" class=\"form-label\">Category</label>\r\n");
      out.write("                                <select class=\"form-select\" id=\"productCategory\" name=\"categoryId\" required>\r\n");
      out.write("                                    <option selected disabled>Select Category</option>\r\n");
      out.write("                                    ");

                                        for (Category c : categories) {
                                    
      out.write("\r\n");
      out.write("                                    <option value=\"");
      out.print( c.getCategoryId());
      out.write('"');
      out.write('>');
      out.print( c.getCategoryTitle());
      out.write("</option>\r\n");
      out.write("                                    ");

                                        }
                                    
      out.write("\r\n");
      out.write("                                </select>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <button type=\"submit\" class=\"btn btn-primary\">Add Product</button>\r\n");
      out.write("                        </form>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("        <!-- Add Product Modal -->\r\n");
      out.write("        <div class=\"modal fade\" id=\"addProductModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("            <div class=\"modal-dialog\">\r\n");
      out.write("                <div class=\"modal-content\">\r\n");
      out.write("                    <div class=\"modal-header\">\r\n");
      out.write("                        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Add Product</h5>\r\n");
      out.write("                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"modal-body\">\r\n");
      out.write("                        <form action=\"/mavenproject7/productServlet\" method=\"post\" enctype=\"multipart/form-data\">\r\n");
      out.write("                            <input type=\"hidden\" name=\"Open\" value=\"Add Product\">\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productName\" class=\"form-label\">Product Name</label>\r\n");
      out.write("                                <input type=\"text\" class=\"form-control\" id=\"productName\" name=\"productName\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productDescription\" class=\"form-label\">Product Description</label>\r\n");
      out.write("                                <textarea class=\"form-control\" id=\"productDescription\" name=\"productDescription\" rows=\"3\" required></textarea>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productPrice\" class=\"form-label\">Price</label>\r\n");
      out.write("                                <input type=\"number\" class=\"form-control\" id=\"productPrice\" name=\"productPrice\" step=\"0.01\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productDiscount\" class=\"form-label\">Discount (%)</label>\r\n");
      out.write("                                <input type=\"number\" class=\"form-control\" id=\"productDiscount\" name=\"productDiscount\" min=\"0\" max=\"100\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productQuantity\" class=\"form-label\">Quantity</label>\r\n");
      out.write("                                <input type=\"number\" class=\"form-control\" id=\"productQuantity\" name=\"productQuantity\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productImage\" class=\"form-label\">Product Image</label>\r\n");
      out.write("                                <input type=\"file\" class=\"form-control\" id=\"productImage\" name=\"productImage\" accept=\"image/*\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productCategory\" class=\"form-label\">Category</label>\r\n");
      out.write("                                <select class=\"form-select\" id=\"productCategory\" name=\"categoryId\" required>\r\n");
      out.write("                                    <option selected disabled>Select Category</option>\r\n");
      out.write("                                    ");

                                        for (Category c : categories) {
                                    
      out.write("\r\n");
      out.write("                                    <option value=\"");
      out.print( c.getCategoryId());
      out.write('"');
      out.write('>');
      out.print( c.getCategoryTitle());
      out.write("</option>\r\n");
      out.write("                                    ");

                                        }
                                    
      out.write("\r\n");
      out.write("                                </select>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <button type=\"submit\" class=\"btn btn-primary\">Add Product</button>\r\n");
      out.write("                        </form>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("        <!-- Add Product Modal -->\r\n");
      out.write("        <div class=\"modal fade\" id=\"addProductModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("            <div class=\"modal-dialog\">\r\n");
      out.write("                <div class=\"modal-content\">\r\n");
      out.write("                    <div class=\"modal-header\">\r\n");
      out.write("                        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Add Product</h5>\r\n");
      out.write("                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"modal-body\">\r\n");
      out.write("                        <form action=\"/mavenproject7/productServlet\" method=\"post\" enctype=\"multipart/form-data\">\r\n");
      out.write("                            <input type=\"hidden\" name=\"Open\" value=\"Add Product\">\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productName\" class=\"form-label\">Product Name</label>\r\n");
      out.write("                                <input type=\"text\" class=\"form-control\" id=\"productName\" name=\"productName\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productDescription\" class=\"form-label\">Product Description</label>\r\n");
      out.write("                                <textarea class=\"form-control\" id=\"productDescription\" name=\"productDescription\" rows=\"3\" required></textarea>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productPrice\" class=\"form-label\">Price</label>\r\n");
      out.write("                                <input type=\"number\" class=\"form-control\" id=\"productPrice\" name=\"productPrice\" step=\"0.01\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productDiscount\" class=\"form-label\">Discount (%)</label>\r\n");
      out.write("                                <input type=\"number\" class=\"form-control\" id=\"productDiscount\" name=\"productDiscount\" min=\"0\" max=\"100\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productQuantity\" class=\"form-label\">Quantity</label>\r\n");
      out.write("                                <input type=\"number\" class=\"form-control\" id=\"productQuantity\" name=\"productQuantity\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productImage\" class=\"form-label\">Product Image</label>\r\n");
      out.write("                                <input type=\"file\" class=\"form-control\" id=\"productImage\" name=\"productImage\" accept=\"image/*\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"productCategory\" class=\"form-label\">Category</label>\r\n");
      out.write("                                <select class=\"form-select\" id=\"productCategory\" name=\"categoryId\" required>\r\n");
      out.write("                                    <option selected disabled>Select Category</option>\r\n");
      out.write("                                    ");

                                        for (Category c : categories) {
                                    
      out.write("\r\n");
      out.write("                                    <option value=\"");
      out.print( c.getCategoryId());
      out.write('"');
      out.write('>');
      out.print( c.getCategoryTitle());
      out.write("</option>\r\n");
      out.write("                                    ");

                                        }
                                    
      out.write("\r\n");
      out.write("                                </select>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <button type=\"submit\" class=\"btn btn-primary\">Add Product</button>\r\n");
      out.write("                        </form>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("\r\n");
      out.write("        <!-- Add Category Modal -->\r\n");
      out.write("        <div class=\"modal fade\" id=\"addCategoryModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("            <div class=\"modal-dialog\">\r\n");
      out.write("                <div class=\"modal-content\">\r\n");
      out.write("                    <div class=\"modal-header\">\r\n");
      out.write("                        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Add Category</h5>\r\n");
      out.write("                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"modal-body\">\r\n");
      out.write("                        <form action=\"ProductOperationServlet\" method=\"post\">\r\n");
      out.write("\r\n");
      out.write("                            ");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("                            <input type=\"hidden\" name=\"operation\" value=\"Add Category\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("\r\n");
      out.write("                                <label for=\"categoryTitle\" class=\"form-label\">Category Title</label>\r\n");
      out.write("                                <input type=\"text\" class=\"form-control\" id=\"categoryTitle\" name=\"categoryTitle\" required>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"mb-3\">\r\n");
      out.write("                                <label for=\"categoryDescription\" class=\"form-label\">Category Description</label>\r\n");
      out.write("                                <textarea class=\"form-control\" id=\"categoryDescription\" name=\"categoryDescription\" rows=\"3\" required></textarea>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <button type=\"submit\" class=\"btn btn-primary\">Add Category</button>\r\n");
      out.write("                        </form>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("\r\n");
      out.write("        <script src=\"script.js\"></script>\r\n");
      out.write("        <script>\r\n");
      out.write("                // Show welcome message and hide after 3 seconds\r\n");
      out.write("                document.getElementById(\"welcomeMessage\").style.display = \"block\";\r\n");
      out.write("                setTimeout(function () {\r\n");
      out.write("                    document.getElementById(\"welcomeMessage\").style.display = \"none\";\r\n");
      out.write("                }, 3000);\r\n");
      out.write("\r\n");
      out.write("                // Show/hide sections based on clicked button\r\n");
      out.write("                document.getElementById(\"userButton\").onclick = function () {\r\n");
      out.write("                    document.getElementById(\"userManagementSection\").style.display = \"block\";\r\n");
      out.write("                    document.getElementById(\"categoryManagementSection\").style.display = \"none\";\r\n");
      out.write("                    document.getElementById(\"productManagementSection\").style.display = \"none\";\r\n");
      out.write("                };\r\n");
      out.write("\r\n");
      out.write("                document.getElementById(\"categoryButton\").onclick = function () {\r\n");
      out.write("                    document.getElementById(\"userManagementSection\").style.display = \"none\";\r\n");
      out.write("                    document.getElementById(\"categoryManagementSection\").style.display = \"block\";\r\n");
      out.write("                    document.getElementById(\"productManagementSection\").style.display = \"none\";\r\n");
      out.write("                };\r\n");
      out.write("\r\n");
      out.write("                document.getElementById(\"productButton\").onclick = function () {\r\n");
      out.write("                    document.getElementById(\"userManagementSection\").style.display = \"none\";\r\n");
      out.write("                    document.getElementById(\"categoryManagementSection\").style.display = \"none\";\r\n");
      out.write("                    document.getElementById(\"productManagementSection\").style.display = \"block\";\r\n");
      out.write("                };\r\n");
      out.write("                // Function to hide message after 3 seconds\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        </script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    </body>\r\n");
      out.write("</html>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
